(()=>{"use strict";const n=document.querySelector(".nav-toggle"),e=document.querySelector(".links"),t=document.querySelector(".box-container"),s=(document.querySelector(".popup-container"),document.querySelector(".shown-movies")),o=(document.querySelector("#movie-close-btn"),document.querySelector("#close-reservation")),a=document.querySelector(".popup-section"),i=document.querySelector(".reservation-section"),c=(document.querySelector(".btn-comments"),async n=>await fetch(`https://api.tvmaze.com/search/shows?q=${n}`).then((n=>n.json())));(async()=>{const n=await c("s"),e=new DocumentFragment,o=new DOMParser;n.forEach(((n,t)=>{const{show:s}=n,a=`\n            <div class="box" data-id=${n.show.id}>\n              <div class="box-img">\n                <img src="${s.image.original}" alt="${s.name}"/>\n              </div>\n              <div class="box-desc">\n                <h4>${s.name}</h4>\n                <div class="likes" data-id="${n.show.id}">\n                  <a href="#" class="like-btn"><i class="fa-regular fa-heart"></i></a>\n                  <small>${n.show.id} likes</small>\n                </div>\n              </div>\n              <div class="btn-container" data-index="${t}" role="button">\n                <button class="btn btn-comments" id=${s.externals.thetvdb}>\n                  comments\n              </button>\n                <button type="button" class="btn">Reservations</button>\n              </div>\n            </div>`,i=o.parseFromString(a,"text/html").body.firstChild;e.appendChild(i)})),t.appendChild(e);const i=(n=>{const e=document.querySelectorAll(`.${n}`);let t=0;return e.forEach((()=>{t+=1})),t})("box");s.innerText=`Shows(${i})`,document.querySelectorAll(".btn-comments").forEach((n=>{n.addEventListener("click",(async n=>{a.style.display="block";const e=await fetch(`https://api.tvmaze.com/lookup/shows?thetvdb=${n.target.id}`).then((n=>n.json())),t=`<div class="popup-container">\n      <button type="button" class="btn comments-close-btn" id="movie-close-btn">\n        <i class="fas fa-times"></i>\n      </button>\n      <div class="popup-img">\n        <img\n          src="${e.image.original}"\n          alt="${e.name}"\n        />\n      </div>\n      <div class="title-description">\n        <h3>${e.name}</h3>\n        <div class="popup-description">\n        <p>Genres: ${e.genres}</p>\n        <p>Language: ${e.language}</p>\n        <p>Premiered: ${e.premiered}</p>\n        <p>Country: ${e.network.country.name}</p>\n        </div>\n      </div>\n      <div class="popup-comments">\n        <h3>Comments(2)</h3>\n        <div class="list-of-comments">\n          <p>12/29/2022: Someone commented yesterday</p>\n          <p>12/30/2022: Someone commented today</p>\n        </div>\n      </div>\n      <form method="post" class="add-comments">\n        <h3>Add Comments</h3>\n        <div class="input-field">\n          <input\n            type="text"\n            placeholder="Your name"\n            class="input"\n            name="name"\n            id="name"\n          />\n        </div>\n        <div class="input-field">\n          <textarea\n            name="text-area"\n            id="text-area"\n            class="input"\n            cols="30"\n            rows="5"\n            placeholder="Your comments"\n          ></textarea>\n        </div>\n        <div class="btn-container">\n          <button type="submit" class="btn" id="submit">Submit</button>\n        </div>\n      </form>\n      </div>`;a.innerHTML=t}))}))})(),n.addEventListener("click",(()=>{e.classList.toggle("show-links")})),a.addEventListener("click",(n=>{"btn comments-close-btn"!==n.target.className&&"fas fa-times"!==n.target.className||(a.style.display="none")})),o.addEventListener("click",(()=>{i.classList.add("hide-reservation")}))})();