(()=>{"use strict";const e=document.querySelector(".nav-toggle"),n=document.querySelector(".links"),t=document.querySelector(".box-container"),s=document.querySelector(".shown-movies"),o=document.querySelector("#movie-close-btn"),a=(document.querySelector("#close-reservation"),document.querySelector(".popup-section")),i=document.querySelector(".reservation-section");e.addEventListener("click",(()=>{n.classList.toggle("show-links")})),o.addEventListener("click",(()=>{a.classList.add("hide-movie")})),(async()=>{const e=await(async e=>await fetch(`https://api.tvmaze.com/search/shows?q=${e}`).then((e=>e.json())))("s"),n=new DocumentFragment,o=new DOMParser;e.forEach(((e,t)=>{const{show:s}=e,a=`\n            <div class="box" data-id=${e.show.id}>\n              <div class="box-img">\n                <img src="${s.image.original}" alt="${s.name}"/>\n              </div>\n              <div class="box-desc">\n                <h4>${s.name}</h4>\n                <div class="likes" data-id="${e.show.id}">\n                  <a href="#" class="like-btn"><i class="fa-regular fa-heart"></i></a>\n                  <small>${e.show.id} likes</small>\n                </div>\n              </div>\n              <div class="btn-container" data-index="${t}" role="button">\n                <button class="btn btn-comments" type="button" id=${s.externals.thetvdb}>\n                  comments\n              </button>\n                <button type="button" class="btn btn-reservation" id="${e.show.externals.imdb}">Reservations</button>\n              </div>\n            </div>`,i=o.parseFromString(a,"text/html").body.firstChild;n.appendChild(i)})),t.appendChild(n);const a=(e=>{const n=document.querySelectorAll(`.${e}`);let t=0;return n.forEach((()=>{t+=1})),t})("box");s.innerText=`Shows(${a})`,document.querySelectorAll(".btn-reservation").forEach((function(e){e.addEventListener("click",(async()=>{const n=await(async e=>await fetch(`https://api.tvmaze.com/lookup/shows?imdb=${e}`).then((e=>e.json())))(e.id);console.log(n);let t=`<div class="reservation-container">\n        <button type="button" class="btn reservation-close-btn" id="close-reservation">\n          <i class="fas fa-times"></i>\n        </button>\n        <div class="reservation-img">\n          <img\n            src="${n.image.original}"\n            alt="${n.name}"\n          />\n        </div>\n        <div class="reservation-description">\n          <h3>${n.name}</h3>\n          <div class="reservations">\n            <p>Genres: ${n.genres}</p>\n            <p>Language: ${n.language}</p>\n            <p>Premiered: ${n.premiered}</p>\n            <p>Country: ${n.network.country.name}</p>\n          </div>\n        </div>\n        <div class="popup-comments">\n          <h3>Reservations(2)</h3>\n          <div class="list-of-comments">\n            <p>01/03/2023: Someone Reserved yesterday</p>\n            <p>01/03/2023: Someone Reserved today</p>\n          </div>\n        </div>\n        <form method="post" class="add-reservation">\n          <h3>Reserve</h3>\n          <div class="input-field"><input type="text" placeholder="Your name" class="input" name="name" id="name"/>\n          </div>\n          <div class="input-field"><textarea name="text-area" id="text-area" class="input"\n              cols="30" rows="5" placeholder="Reserve"></textarea>\n          </div>\n          <div class="btn-container">\n            <button type="submit" class="btn" id="reserve">Reserve</button>\n          </div>\n        </form>\n      </div>`;i.innerHTML=t}))})),document.querySelector("#close-reservation")})()})();