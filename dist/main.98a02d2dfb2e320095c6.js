(()=>{"use strict";const e=document.querySelector(".nav-toggle"),t=document.querySelector(".links"),n=document.querySelector(".box-container"),o=(document.querySelector(".popup-container"),document.querySelector(".shown-movies")),s=document.querySelector("#movie-close-btn"),c=document.querySelector("#close-reservation"),i=document.querySelector(".popup-section"),a=document.querySelector(".reservation-section");e.addEventListener("click",(()=>{t.classList.toggle("show-links")})),s.addEventListener("click",(()=>{i.classList.add("hide-movie")})),c.addEventListener("click",(()=>{a.classList.add("hide-reservation")})),(async()=>{const e=await(async e=>await fetch(`https://api.tvmaze.com/search/shows?q=${e}`).then((e=>e.json())))("s"),t=new DocumentFragment,s=new DOMParser;e.forEach(((e,n)=>{const{show:o}=e,c=`\n            <div class="box" data-id=${e.show.id}>\n              <div class="box-img">\n                <img src="${o.image.original}" alt="${o.name}"/>\n              </div>\n              <div class="box-desc">\n                <h4>${o.name}</h4>\n                <div class="likes" data-id="${e.show.id}">\n                  <a href="#" class="like-btn"><i class="fa-regular fa-heart"></i></a>\n                  <small>${e.show.id} likes</small>\n                </div>\n              </div>\n              <div class="btn-container" data-index="${n}" role="button">\n                <button class="btn btn-comments commentBtn" type="button" id=${o.externals.thetvdb}>\n                  comments\n              </button>\n                <button type="button" class="btn">Reservations</button>\n              </div>\n            </div>`,i=s.parseFromString(c,"text/html").body.firstChild;t.appendChild(i)})),n.appendChild(t);const c=(e=>{const t=document.querySelectorAll(`.${e}`);let n=0;return t.forEach((()=>{n+=1})),n})("box");o.innerText=`Shows(${c})`})(),document.querySelector(".commentBtn").addEventListener("click",(e=>{console.log(e.target.id)}))})();